{"version":3,"sources":["../src/components/LanguageSelector.tsx","#style-inject:#style-inject","../src/components/LanguageSelector.css"],"sourcesContent":["import { useState, useRef, useEffect } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport './LanguageSelector.css';\n\nexport interface LanguageSelectorProps<T extends string> {\n  /** List of supported language codes */\n  languages: readonly T[];\n  /** Map of language codes to flag emojis */\n  flags: Record<T, string>;\n}\n\nexport function LanguageSelector<T extends string>({\n  languages,\n  flags,\n}: LanguageSelectorProps<T>) {\n  const { i18n, t } = useTranslation();\n  const [isOpen, setIsOpen] = useState(false);\n  const containerRef = useRef<HTMLDivElement>(null);\n  const currentLang = (i18n.language?.substring(0, 2) || languages[0]) as T;\n\n  const handleChange = (lang: T) => {\n    i18n.changeLanguage(lang);\n    setIsOpen(false);\n  };\n\n  const toggleOpen = () => {\n    setIsOpen((prev) => !prev);\n  };\n\n  // Close dropdown when clicking outside\n  useEffect(() => {\n    const handleClickOutside = (event: MouseEvent) => {\n      if (containerRef.current && !containerRef.current.contains(event.target as Node)) {\n        setIsOpen(false);\n      }\n    };\n\n    if (isOpen) {\n      document.addEventListener('mousedown', handleClickOutside);\n    }\n\n    return () => {\n      document.removeEventListener('mousedown', handleClickOutside);\n    };\n  }, [isOpen]);\n\n  return (\n    <div className={`language-selector ${isOpen ? 'open' : ''}`} ref={containerRef}>\n      <button\n        onClick={toggleOpen}\n        className=\"lang-btn lang-btn-current\"\n        title={t(`language.${currentLang}`)}\n        aria-label={t(`language.${currentLang}`)}\n        aria-expanded={isOpen}\n      >\n        <span className=\"lang-flag\">{flags[currentLang]}</span>\n      </button>\n      {isOpen && (\n        <div className=\"language-dropdown\">\n          {languages\n            .filter((lang) => lang !== currentLang)\n            .map((lang) => (\n              <button\n                key={lang}\n                onClick={() => handleChange(lang)}\n                className=\"lang-btn\"\n                title={t(`language.${lang}`)}\n                aria-label={t(`language.${lang}`)}\n              >\n                <span className=\"lang-flag\">{flags[lang]}</span>\n              </button>\n            ))}\n        </div>\n      )}\n    </div>\n  );\n}\n","\n          export default function styleInject(css, { insertAt } = {}) {\n            if (!css || typeof document === 'undefined') return\n          \n            const head = document.head || document.getElementsByTagName('head')[0]\n            const style = document.createElement('style')\n            style.type = 'text/css'\n          \n            if (insertAt === 'top') {\n              if (head.firstChild) {\n                head.insertBefore(style, head.firstChild)\n              } else {\n                head.appendChild(style)\n              }\n            } else {\n              head.appendChild(style)\n            }\n          \n            if (style.styleSheet) {\n              style.styleSheet.cssText = css\n            } else {\n              style.appendChild(document.createTextNode(css))\n            }\n          }\n          ","import styleInject from '#style-inject';styleInject(\".language-selector {\\n  position: fixed;\\n  top: 1rem;\\n  right: 1rem;\\n  z-index: 100;\\n}\\n.lang-btn {\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n  width: 2.25rem;\\n  height: 2.25rem;\\n  background: var(--bg-card);\\n  border: 1px solid var(--border-color);\\n  border-radius: var(--radius-md);\\n  cursor: pointer;\\n  transition: all 0.2s ease;\\n}\\n.lang-btn:hover {\\n  background: var(--bg-tertiary);\\n}\\n.lang-btn-current {\\n  opacity: 1;\\n}\\n.language-dropdown {\\n  position: absolute;\\n  top: calc(100% + 0.25rem);\\n  right: 0;\\n  display: flex;\\n  flex-direction: column;\\n  gap: 0.25rem;\\n  background: var(--bg-card);\\n  border: 1px solid var(--border-color);\\n  border-radius: var(--radius-md);\\n  padding: 0.25rem;\\n  animation: dropdownFadeIn 0.15s ease;\\n}\\n@keyframes dropdownFadeIn {\\n  from {\\n    opacity: 0;\\n    transform: translateY(-0.25rem);\\n  }\\n  to {\\n    opacity: 1;\\n    transform: translateY(0);\\n  }\\n}\\n.language-dropdown .lang-btn {\\n  border: none;\\n  opacity: 0.7;\\n}\\n.language-dropdown .lang-btn:hover {\\n  opacity: 1;\\n  background: var(--accent-glow);\\n  box-shadow: 0 0 10px var(--accent-glow);\\n}\\n.lang-flag {\\n  font-size: 1.25rem;\\n  line-height: 1;\\n}\\n\")"],"mappings":";AAAA,SAAS,UAAU,QAAQ,iBAAiB;AAC5C,SAAS,sBAAsB;;;ACAN,SAAR,YAA6B,KAAK,EAAE,SAAS,IAAI,CAAC,GAAG;AAC1D,MAAI,CAAC,OAAO,OAAO,aAAa,YAAa;AAE7C,QAAM,OAAO,SAAS,QAAQ,SAAS,qBAAqB,MAAM,EAAE,CAAC;AACrE,QAAM,QAAQ,SAAS,cAAc,OAAO;AAC5C,QAAM,OAAO;AAEb,MAAI,aAAa,OAAO;AACtB,QAAI,KAAK,YAAY;AACnB,WAAK,aAAa,OAAO,KAAK,UAAU;AAAA,IAC1C,OAAO;AACL,WAAK,YAAY,KAAK;AAAA,IACxB;AAAA,EACF,OAAO;AACL,SAAK,YAAY,KAAK;AAAA,EACxB;AAEA,MAAI,MAAM,YAAY;AACpB,UAAM,WAAW,UAAU;AAAA,EAC7B,OAAO;AACL,UAAM,YAAY,SAAS,eAAe,GAAG,CAAC;AAAA,EAChD;AACF;;;ACvB8B,YAAY,wsCAAwsC;;;AF+CxvC,SAQI,KARJ;AApCG,SAAS,iBAAmC;AAAA,EACjD;AAAA,EACA;AACF,GAA6B;AAC3B,QAAM,EAAE,MAAM,EAAE,IAAI,eAAe;AACnC,QAAM,CAAC,QAAQ,SAAS,IAAI,SAAS,KAAK;AAC1C,QAAM,eAAe,OAAuB,IAAI;AAChD,QAAM,cAAe,KAAK,UAAU,UAAU,GAAG,CAAC,KAAK,UAAU,CAAC;AAElE,QAAM,eAAe,CAAC,SAAY;AAChC,SAAK,eAAe,IAAI;AACxB,cAAU,KAAK;AAAA,EACjB;AAEA,QAAM,aAAa,MAAM;AACvB,cAAU,CAAC,SAAS,CAAC,IAAI;AAAA,EAC3B;AAGA,YAAU,MAAM;AACd,UAAM,qBAAqB,CAAC,UAAsB;AAChD,UAAI,aAAa,WAAW,CAAC,aAAa,QAAQ,SAAS,MAAM,MAAc,GAAG;AAChF,kBAAU,KAAK;AAAA,MACjB;AAAA,IACF;AAEA,QAAI,QAAQ;AACV,eAAS,iBAAiB,aAAa,kBAAkB;AAAA,IAC3D;AAEA,WAAO,MAAM;AACX,eAAS,oBAAoB,aAAa,kBAAkB;AAAA,IAC9D;AAAA,EACF,GAAG,CAAC,MAAM,CAAC;AAEX,SACE,qBAAC,SAAI,WAAW,qBAAqB,SAAS,SAAS,EAAE,IAAI,KAAK,cAChE;AAAA;AAAA,MAAC;AAAA;AAAA,QACC,SAAS;AAAA,QACT,WAAU;AAAA,QACV,OAAO,EAAE,YAAY,WAAW,EAAE;AAAA,QAClC,cAAY,EAAE,YAAY,WAAW,EAAE;AAAA,QACvC,iBAAe;AAAA,QAEf,8BAAC,UAAK,WAAU,aAAa,gBAAM,WAAW,GAAE;AAAA;AAAA,IAClD;AAAA,IACC,UACC,oBAAC,SAAI,WAAU,qBACZ,oBACE,OAAO,CAAC,SAAS,SAAS,WAAW,EACrC,IAAI,CAAC,SACJ;AAAA,MAAC;AAAA;AAAA,QAEC,SAAS,MAAM,aAAa,IAAI;AAAA,QAChC,WAAU;AAAA,QACV,OAAO,EAAE,YAAY,IAAI,EAAE;AAAA,QAC3B,cAAY,EAAE,YAAY,IAAI,EAAE;AAAA,QAEhC,8BAAC,UAAK,WAAU,aAAa,gBAAM,IAAI,GAAE;AAAA;AAAA,MANpC;AAAA,IAOP,CACD,GACL;AAAA,KAEJ;AAEJ;","names":[]}